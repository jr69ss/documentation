<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ElastiFlow Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ElastiFlow Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="ElastiFlow" href="/opensearch.xml"><title data-react-helmet="true">Install | ElastiFlow</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Install | ElastiFlow"><meta data-react-helmet="true" name="description" content="Installation of the ElastiFlow Unified Flow Collector"><meta data-react-helmet="true" property="og:description" content="Installation of the ElastiFlow Unified Flow Collector"><meta data-react-helmet="true" property="og:url" content="https://docs.elastiflow.com/docs/install"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://docs.elastiflow.com/docs/install"><link rel="stylesheet" href="/styles.8d537523.css">
<link rel="preload" href="/styles.5bdcdeb3.js" as="script">
<link rel="preload" href="/runtime~main.8f20137d.js" as="script">
<link rel="preload" href="/main.17b78906.js" as="script">
<link rel="preload" href="/common.3da9ff2c.js" as="script">
<link rel="preload" href="/11.7b134bb7.js" as="script">
<link rel="preload" href="/14.7478ef0c.js" as="script">
<link rel="preload" href="/935f2afb.67374589.js" as="script">
<link rel="preload" href="/17896441.60954482.js" as="script">
<link rel="preload" href="/c4de80f8.01721acb.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ElastiFLow Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo_dark.svg" alt="ElastiFLow Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ElastiFLow Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo_dark.svg" alt="ElastiFLow Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Unified Flow Collector</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/install">Install</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/changelog">Changelog</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Install</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="installation-of-the-elastiflow-unified-flow-collector"></a>Installation of the ElastiFlow Unified Flow Collector<a class="hash-link" href="#installation-of-the-elastiflow-unified-flow-collector" title="Direct link to heading">#</a></h1><p>The ElastiFlow Unified Flow Collector receives, decodes, transforms, normalizes, translates and enriches network flow records sent from network devices and applications using IPFIX, Netflow and sFlow. The resulting records can be sent to various data platforms including Elasticsearch, Splunk and Apache Kafka.</p><blockquote><p>The <code>v5.0.0-beta.2</code> release only includes support for Elasticsearch. Additional platflorms will be added for the GA release.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="installation-using-docker-and-docker-compose"></a>Installation Using Docker and docker-compose<a class="hash-link" href="#installation-using-docker-and-docker-compose" title="Direct link to heading">#</a></h2><blockquote><p>The <code>v5.0.0-beta.2</code> release is distributed only as a docker container. Additional deployment options will be available for the GA release.</p></blockquote><p>A Docker container for the ElastiFlow Unified Flow Collector is available on <a href="https://hub.docker.com/r/elastiflow/flow-collector" target="_blank" rel="noopener noreferrer">Docker Hub</a>. <a href="https://docs.docker.com/compose/" target="_blank" rel="noopener noreferrer">docker-compose</a> is a good way to run the container. It allows for the various environment variables, used to configure the collector, to be easily managed in one place without having to enter them on the command line.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="docker-composeyml"></a>docker-compose.yml<a class="hash-link" href="#docker-composeyml" title="Direct link to heading">#</a></h3><p>The following <code>docker-compose.yml</code> file provides an example with common settings that will likely need to be configured to process flow records and send them to Elasticsearch.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;3&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ElastiFlow Unified Flow Collector</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">elastiflow-ufc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> elastiflow/flow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">collector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">v5.0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">beta.2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> elastiflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">ufc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;unless-stopped&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">network_mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;host&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> /etc/elastiflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/etc/elastiflow</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">UNICOLLD_LICENSED_CORES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_LOGGER_LEVEL: &#x27;info&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_LOGGER_ENCODING: &#x27;json&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_SERVER_UDP_IP: &#x27;0.0.0.0&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">UNICOLLD_SERVER_UDP_PORT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">9995</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_SERVER_UDP_PACKET_STREAM_MAX_SIZE: </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_SERVER_UDP_READ_BUFFER_MAX_SIZE: 33554432</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_SETTINGS_PATH: &#x27;/etc/elastiflow&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_IPFIX_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_NETFLOW5_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_NETFLOW9_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_SFLOW5_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_SFLOW_FLOWS_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_SFLOW_FLOWS_KEEP_SAMPLES: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_SFLOW_COUNTERS_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_LEVEL: &#x27;enrich&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_TRANSLATE_KEEP_IDS: &#x27;default&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_KEEP_CPU_TICKS: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_DNS_RESOLVE_IPS: &#x27;none&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_DNS_CACHE_SIZE: 524288</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_NETIF_GET_ATTRS: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_NETIF_CACHE_SIZE: 262144</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_SNMP_ENABLE: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_SNMP_PORT: 161</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_SNMP_VERSION: 2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_SNMP_COMMUNITY: &#x27;public&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_SNMP_TIMEOUT: 2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_SNMP_RETRIES: 1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_APP_CACHE_SIZE: 262144</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_ASN_LOOKUP: &#x27;none&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_ASN_PREF: &#x27;lookup&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_ASN_CACHE_SIZE: 262144</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_ASN_MAXMIND_ASN_PATH: &#x27;maxmind/GeoLite2-ASN.mmdb&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_ASN_JOIN: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_GEOIP_LOOKUP: &#x27;none&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_GEOIP_CACHE_SIZE: 262144</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_GEOIP_MAXMIND_CITY_PATH: &#x27;maxmind/GeoLite2-City.mmdb&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_GEOIP_MAXMIND_VALUES: &#x27;city,country,country_code,location,timezone&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_GEOIP_MAXMIND_LANG: &#x27;en&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_GEOIP_JOIN: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_COMMUNITYID_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_COMMUNITYID_SEED: 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_CONVERSATIONID_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_CONVERSATIONID_SEED: 0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_EXPAND_CLISRV: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_ENRICH_NETATTR_JOIN: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_DURATION_PRECISION: &#x27;ms&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_TIMESTAMP_PRECISION: &#x27;ms&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_DECODER_PERCENT_NORM: &#x27;100&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_RECORD_STREAM_MAX_SIZE: </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># stdout</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_STDOUT_ENABLE: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_STDOUT_FORMAT: &#x27;json_pretty&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Elasticsearch</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">UNICOLLD_OUTPUT_ELASTICSEARCH_ENABLE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_ECS_ENABLE: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_BATCH_DEADLINE: 1000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_BATCH_MAX_BYTES: 8388608</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_POOL_SIZE: </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_TIMESTAMP_SOURCE: &#x27;end&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_PERIOD: &#x27;daily&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_SUFFIX: &#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_OVERWRITE: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_SHARDS: 3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_REPLICAS: 1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_REFRESH_INTERVAL: &#x27;10s&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_CODEC: &#x27;best_compression&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># A comma separated list of Elasticsearch nodes to use. DO NOT include &quot;http://&quot; or &quot;https://&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">UNICOLLD_OUTPUT_ELASTICSEARCH_ADDRESSES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;127.0.0.1:9200&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">UNICOLLD_OUTPUT_ELASTICSEARCH_USERNAME</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;elastic&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">UNICOLLD_OUTPUT_ELASTICSEARCH_PASSWORD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;changeme&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_CLOUD_ID: &#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_API_KEY: &#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_TLS_ENABLE: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_TLS_SKIP_VERIFICATION: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_TLS_CA_CERT_FILEPATH: &#x27;/etc/elastiflow/cert/ca/ca.crt&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_RETRY_ENABLE: &#x27;true&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_RETRY_ON_TIMEOUT_ENABLE: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_MAX_RETRIES: 3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_ELASTICSEARCH_RETRY_BACKOFF: 1000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># RiskIQ</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_RISKIQ_ENABLE: &#x27;false&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_RISKIQ_HOST: &#x27;flow.riskiq.net&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_RISKIQ_PORT: 20000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_RISKIQ_CUSTOMER_UUID: &#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#UNICOLLD_OUTPUT_RISKIQ_CUSTOMER_ENCRYPTION_KEY: &#x27;&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="image"></a>image<a class="hash-link" href="#image" title="Direct link to heading">#</a></h4><p>The name of the current released image is <code>elastiflow/flow-collector:v5.0.0-beta.2</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="restart"></a>restart<a class="hash-link" href="#restart" title="Direct link to heading">#</a></h4><p><code>restart</code> is set to <code>unless-stopped</code> so that the collector will restart automatically if it fails for some reason.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="network_mode"></a>network_mode<a class="hash-link" href="#network_mode" title="Direct link to heading">#</a></h4><p>There is a old issue with Docker that persists still, where an inbound packet&#x27;s source IP address is not persisted across the Docker bridge interface. This is not an issue for sFlow as the exporter&#x27;s IP is extracted from the <code>agent_address</code> in the sFlow header. However for Netflow and IPFIX the source IP from the IP header is all that is available to determine which device sent the records. The Docker bridge messes this up.</p><p>To work around this issue <code>network_mode</code> must be set to <code>host</code>.</p><blockquote><p>NOTE! On macOS Docker containers do not run natively on the operating system. They actually run in a behind the scenes linux VM. In the case <code>host</code> networking would be the network stack of the VM and not of macOS itself. This means the <code>bridged</code> mode networking must be used and the necessary port mapping defined. Because of the source IP issues mentioned above, you will not be able to do much on macOS other than basic testing.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="volumes"></a>volumes<a class="hash-link" href="#volumes" title="Direct link to heading">#</a></h4><p>There are a few scenarios where it is necessary to make files on the host file system available to the collector.</p><p>In the example above, <code>/etc/elastiflow</code> on the host&#x27;s filesystem is mapped into the same path within the container. After downloading the <code>GeoLite2-City</code> and <code>GeoLite2-ASN</code> maxmind databases from the Maxmind website, they can be placed at <code>/etc/elastiflow/maxmind</code> on the host&#x27;s filesystem and will be able to be accessed by the collector within the container.</p><blockquote><p>NOTE! It is also possible to build a new container, adding additional files as needed. This may the best choice if running the container in a dynamically orchestrated environment (e.g. running in Kubernetes). However for an instance dedicated to a specific host, using bind mounted volumes can be very convenient.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="environment-variables"></a>environment variables<a class="hash-link" href="#environment-variables" title="Direct link to heading">#</a></h4><p>The ElastiFlow Unified Flow Collector is configured using environment variables. The settings above provide an example configuration that represents the most likely settings to consider and modify when deploying the collector.</p><p>For a complete reference of all configuration options please refer to the Configuration Environment Variable Reference below.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="running-the-container"></a>Running the Container<a class="hash-link" href="#running-the-container" title="Direct link to heading">#</a></h4><p>After completing configuration of the collector in the <code>docker-compose.yml</code> file, you can start the container using one of the following commands...</p><p>From within the same path as the <code>docker-compose.yml</code> file:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose up -d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>From a path different from the location of the <code>docker-compose.yml</code> file:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose -f /PATH/TO/docker-compose.yml up -d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>To view the logs written by the container run:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker logs -f NAME_OF_CONTAINER</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>To stop the container run:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose down</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>or:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose -f /PATH/TO/docker-compose.yml down</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="maxmind-databases"></a>Maxmind Databases<a class="hash-link" href="#maxmind-databases" title="Direct link to heading">#</a></h2><p>To use the Maxmind databases for GeoIP and ASN enrichment you will need to download the databases. Due to changes in privacy law in California, Maxmind no longer makes its GeoLite2 databases available for download without <a href="https://dev.maxmind.com/geoip/geoip2/geolite2/" target="_blank" rel="noopener noreferrer">registering on their website</a>. Once you have registered and downloaded the database, you can make them available to the ElastiFlow Unified Flow Collector for enrichment of public IP addresses.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configuration-environment-variable-reference"></a>Configuration Environment Variable Reference<a class="hash-link" href="#configuration-environment-variable-reference" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="general-settings"></a>General Settings<a class="hash-link" href="#general-settings" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_licensed_cores"></a><code>UNICOLLD_LICENSED_CORES</code><a class="hash-link" href="#unicolld_licensed_cores" title="Direct link to heading">#</a></h4><p>The ElastiFlow Unified Flow Collector is licensed by <em><strong>cores</strong></em>. By default the number of cores will be set based on the provided license key. However the number of cores to be used by as instance can be configured manually. This is usually done when it is desired to use multiple instances of the collector. For example, a subscription for 8 licensed cores can be split into 2 instances, of 4 cores each, by setting <code>UNICOLLD_LICENSED_CORES: 4</code> for each instance. If set to a value greater than allowed by the license key, the instances will be started with the number of cores from the license key.</p><p>The default values of <code>UNICOLLD_SERVER_UDP_PACKET_STREAM_MAX_SIZE</code>, <code>UNICOLLD_RECORD_STREAM_MAX_SIZE</code> and <code>UNICOLLD_OUTPUT_ELASTICSEARCH_POOL_SIZE</code> are based on the number of licensed cores. However, these settings may also be set manually to override the defaults as needed for a given environment.</p><p>The default value of <code>1</code> is the number of cores allowed under the <code>community</code> and <code>basic</code> subscription tiers. See <a href="https://www.elastiflow.com/subscriptions" target="_blank" rel="noopener noreferrer">https://www.elastiflow.com/subscriptions</a> for more details about subscription options.</p><ul><li>Default<ul><li><code>1</code></li></ul></li></ul><blockquote><p>NOTE! The Beta releases of the ElastiFlow Unified Flow Collector has no limit on the number of cores which can be configured. For scale/throughput testing this value should be set to the number of physical cores available on the system running the collector.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="logging-settings"></a>Logging Settings<a class="hash-link" href="#logging-settings" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_logger_level"></a><code>UNICOLLD_LOGGER_LEVEL</code><a class="hash-link" href="#unicolld_logger_level" title="Direct link to heading">#</a></h4><p>Specifies the output level for logging.</p><ul><li>Valid Values<ul><li><code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, <code>panic</code>, <code>fatal</code></li></ul></li><li>Default<ul><li><code>info</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_logger_encoding"></a><code>UNICOLLD_LOGGER_ENCODING</code><a class="hash-link" href="#unicolld_logger_encoding" title="Direct link to heading">#</a></h4><p>Specifies the output format of the produced logs.</p><ul><li>Valid Values<ul><li><code>console</code>, <code>json</code></li></ul></li><li>Default<ul><li><code>json</code></li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="udp-server-settings"></a>UDP Server Settings<a class="hash-link" href="#udp-server-settings" title="Direct link to heading">#</a></h3><p>The ElastiFlow Unified Flow Collector receives network flow records over UDP.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_server_udp_ip"></a><code>UNICOLLD_SERVER_UDP_IP</code><a class="hash-link" href="#unicolld_server_udp_ip" title="Direct link to heading">#</a></h4><ul><li>Valid Values<ul><li><code>0.0.0.0</code> or any valid IP address to which the UDP socket can be bound.</li></ul></li><li>Default<ul><li><code>0.0.0.0</code> (listen on all interfaces)</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_server_udp_port"></a><code>UNICOLLD_SERVER_UDP_PORT</code><a class="hash-link" href="#unicolld_server_udp_port" title="Direct link to heading">#</a></h4><ul><li>Valid Values<ul><li>Any valid port number. Common values include:<ul><li><code>2055</code>: the standard port for Netflow</li><li><code>4739</code>: the standard port for IPFIX</li><li><code>6343</code>: the standard port for sFlow</li><li><code>9995-9998</code>: commonly use port numbers</li></ul></li></ul></li><li>Default<ul><li><code>2055</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_server_udp_packet_stream_max_size"></a><code>UNICOLLD_SERVER_UDP_PACKET_STREAM_MAX_SIZE</code><a class="hash-link" href="#unicolld_server_udp_packet_stream_max_size" title="Direct link to heading">#</a></h4><p>Received UDP PDUs are queued prior to being processed by an available decoder. This value specifies the size of the queue as a quantity of PDUs.</p><ul><li>Default<ul><li><code>4096 * UNICOLLD_LICENSED_CORES</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_server_udp_read_buffer_max_size"></a><code>UNICOLLD_SERVER_UDP_READ_BUFFER_MAX_SIZE</code><a class="hash-link" href="#unicolld_server_udp_read_buffer_max_size" title="Direct link to heading">#</a></h4><p>The size, in bytes, of the UDP receive buffer that the UDP server will request be created by the operating system kernel when the socket is created. If this value exceeds the maximum allowed buffer size (<code>net.core.rmem_max</code> on Linux), the maximum allowed size is used.</p><ul><li>Default<ul><li><code>33554432</code></li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="flow-decoder-settings"></a>Flow Decoder Settings<a class="hash-link" href="#flow-decoder-settings" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_settings_path"></a><code>UNICOLLD_DECODER_SETTINGS_PATH</code><a class="hash-link" href="#unicolld_decoder_settings_path" title="Direct link to heading">#</a></h4><p>The path where any files used by the collector&#x27;s decoder functions are loacted.</p><ul><li>Default<ul><li><code>/etc/elastiflow</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_ipfix_enable"></a><code>UNICOLLD_DECODER_IPFIX_ENABLE</code><a class="hash-link" href="#unicolld_decoder_ipfix_enable" title="Direct link to heading">#</a></h4><p>Set to <code>true</code> to enable decoding of IPFIX records.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_netflow5_enable"></a><code>UNICOLLD_DECODER_NETFLOW5_ENABLE</code><a class="hash-link" href="#unicolld_decoder_netflow5_enable" title="Direct link to heading">#</a></h4><p>Set to <code>true</code> to enable decoding of Netflow v5 records.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_netflow9_enable"></a><code>UNICOLLD_DECODER_NETFLOW9_ENABLE</code><a class="hash-link" href="#unicolld_decoder_netflow9_enable" title="Direct link to heading">#</a></h4><p>Set to <code>true</code> to enable decoding of Netflow v9 records.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_sflow5_enable"></a><code>UNICOLLD_DECODER_SFLOW5_ENABLE</code><a class="hash-link" href="#unicolld_decoder_sflow5_enable" title="Direct link to heading">#</a></h4><p>Set to <code>true</code> to enable decoding of sFlow v5 records.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_sflow_flows_enable"></a><code>UNICOLLD_DECODER_SFLOW_FLOWS_ENABLE</code><a class="hash-link" href="#unicolld_decoder_sflow_flows_enable" title="Direct link to heading">#</a></h4><p>Set to <code>true</code> to enable decoding of sFlow <code>flow_sample</code> and <code>flow_sample_expanded</code> records.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_sflow_flows_keep_samples"></a><code>UNICOLLD_DECODER_SFLOW_FLOWS_KEEP_SAMPLES</code><a class="hash-link" href="#unicolld_decoder_sflow_flows_keep_samples" title="Direct link to heading">#</a></h4><p>When set to <code>true</code>, the packet data from an sFlow <code>sampled_header</code> record will be stored in <code>l2.section.sample</code> as a hex-encoded string.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_sflow_counters_enable"></a><code>UNICOLLD_DECODER_SFLOW_COUNTERS_ENABLE</code><a class="hash-link" href="#unicolld_decoder_sflow_counters_enable" title="Direct link to heading">#</a></h4><p>Set to <code>true</code> to enable decoding of sFlow <code>counters_sample</code> and <code>counters_sample_expanded</code> records.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_level"></a><code>UNICOLLD_DECODER_LEVEL</code><a class="hash-link" href="#unicolld_decoder_level" title="Direct link to heading">#</a></h4><p>Sets the level of processing applied to received records.</p><blockquote><p>NOTE! While changing this setting to a value other than <code>enrich</code> will reduce the size of each record, it will also prevent some features from working as intended. Better results may be achieved by disabling individual enrichment options.</p></blockquote><ul><li>Valid Values<ul><li><code>enrich</code> - All enabled processing will be applied.</li><li><code>translate</code> - Raw values will be translated, but all enrichment features will be disabled.</li></ul></li><li>Default<ul><li><code>enrich</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_translate_keep_ids"></a><code>UNICOLLD_DECODER_TRANSLATE_KEEP_IDS</code><a class="hash-link" href="#unicolld_decoder_translate_keep_ids" title="Direct link to heading">#</a></h4><p>Specifies which identifier values will be included in the final dataset.</p><ul><li>Valid Values<ul><li><code>none</code> - All identifiers are removed from the final dataset.</li><li><code>default</code> - Most identifiers are removed from the final dataset. However some identifiers which are required for common use-cases (e.g. raw protocol port values) are included.</li><li><code>all</code> - All identifiers are included in the final dataset.</li></ul></li><li>Default<ul><li><code>default</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_keep_cpu_ticks"></a><code>UNICOLLD_DECODER_ENRICH_KEEP_CPU_TICKS</code><a class="hash-link" href="#unicolld_decoder_enrich_keep_cpu_ticks" title="Direct link to heading">#</a></h4><p>For telemetry sources which provide CPU usage as timeticks, utilization percentages will be calculated. If this setting is set <code>false</code> the timetick values will be removed from the final dataset. If <code>true</code> they will be kept, in addition to the utilization values.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_dns_resolve_ips"></a><code>UNICOLLD_DECODER_ENRICH_DNS_RESOLVE_IPS</code><a class="hash-link" href="#unicolld_decoder_enrich_dns_resolve_ips" title="Direct link to heading">#</a></h4><p>This setting enables DNS reverse lookups of IP addresses found in the received flow records.</p><ul><li>Valid Values<ul><li><code>none</code> - All DNS reverse lookups are disabled.</li><li><code>exporter</code> - Only the IP from which the flow record was received is resolved.</li><li><code>all</code> - DNS reverse lookups are enabled for all IP addresses.</li></ul></li><li>Default<ul><li><code>none</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_dns_cache_size"></a><code>UNICOLLD_DECODER_ENRICH_DNS_CACHE_SIZE</code><a class="hash-link" href="#unicolld_decoder_enrich_dns_cache_size" title="Direct link to heading">#</a></h4><p>The ElastiFlow Unified Flow Collector will cache the result of DNS reverse lookups, including failures. This reduces the overall number of DNS queries, and increases throughput.</p><p>This setting specifies the maximum number of IPs which will be held in the cache.</p><ul><li>Default<ul><li><code>524288</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_netif_get_attrs"></a><code>UNICOLLD_DECODER_ENRICH_NETIF_GET_ATTRS</code><a class="hash-link" href="#unicolld_decoder_enrich_netif_get_attrs" title="Direct link to heading">#</a></h4><p>Flow records generally include the index of ingress and egress interfaces by which the network traffic traversed the exporting device. The ElastiFlow Unified Flow Collector will attempt to determine the names, and additional attributes, of these interfaces as learned from Netflow v9 or IPFIX option records, or determined by polling the exporting device using SNMP.</p><p>Setting this value to <code>false</code> will disable the enrichment of records with interface atributes.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_netif_cache_size"></a><code>UNICOLLD_DECODER_ENRICH_NETIF_CACHE_SIZE</code><a class="hash-link" href="#unicolld_decoder_enrich_netif_cache_size" title="Direct link to heading">#</a></h4><p>Interface attributes, learned from either option data or SNMP, will be cached to reduce possible SNMP polls and improve performance.</p><p>This setting specifies the maximum number of interfaces which will be held in the cache.</p><ul><li>Default<ul><li><code>262144</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_snmp_enable"></a><code>UNICOLLD_DECODER_ENRICH_SNMP_ENABLE</code><a class="hash-link" href="#unicolld_decoder_enrich_snmp_enable" title="Direct link to heading">#</a></h4><p>If the enrichment with network interface attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_NETIF_GET_ATTRS</code> is <code>true</code>), this setting determined whether SNMP polls will be used to gather these attributes.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_snmp_port"></a><code>UNICOLLD_DECODER_ENRICH_SNMP_PORT</code><a class="hash-link" href="#unicolld_decoder_enrich_snmp_port" title="Direct link to heading">#</a></h4><p>If SNMP polling of attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_SNMP_ENABLE</code> is <code>true</code>), this setting specifies the UDP port that is used for such polls.</p><ul><li>Default<ul><li><code>161</code> (the default SNMP port number)</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_snmp_version"></a><code>UNICOLLD_DECODER_ENRICH_SNMP_VERSION</code><a class="hash-link" href="#unicolld_decoder_enrich_snmp_version" title="Direct link to heading">#</a></h4><p>If SNMP polling of attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_SNMP_ENABLE</code> is <code>true</code>), this setting specifies the SNMP version that is used for such polls.</p><blockquote><p>NOTE! All network devices which may be polled MUST support this version of SNMP.</p></blockquote><ul><li>Valid Values<ul><li><code>1</code> - use SNMPv1</li><li><code>2</code> - use SNMPv2c</li></ul></li><li>Default<ul><li><code>2</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_snmp_community"></a><code>UNICOLLD_DECODER_ENRICH_SNMP_COMMUNITY</code><a class="hash-link" href="#unicolld_decoder_enrich_snmp_community" title="Direct link to heading">#</a></h4><p>If SNMP polling of attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_SNMP_ENABLE</code> is <code>true</code>), this setting specifies the SNMP community string that is used for such polls.</p><blockquote><p>NOTE! All network devices which may be polled MUST be configured to all visibility of collected attributes using this community. It may be necessary to specify a <em>view</em> associated with this community. The documentation for your devices should contain the necessary information that you will need for determining the correct configuration steps.</p></blockquote><ul><li>Default<ul><li><code>public</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_snmp_timeout"></a><code>UNICOLLD_DECODER_ENRICH_SNMP_TIMEOUT</code><a class="hash-link" href="#unicolld_decoder_enrich_snmp_timeout" title="Direct link to heading">#</a></h4><p>If SNMP polling of attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_SNMP_ENABLE</code> is <code>true</code>), this setting specifies the number of seconds to wait for the polled device to respond.</p><ul><li>Default<ul><li><code>2</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_snmp_retries"></a><code>UNICOLLD_DECODER_ENRICH_SNMP_RETRIES</code><a class="hash-link" href="#unicolld_decoder_enrich_snmp_retries" title="Direct link to heading">#</a></h4><p>If SNMP polling of attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_SNMP_ENABLE</code> is <code>true</code>), this setting specifies the number of retries to attempt after the initial poll has timed out or otherwise fail. The timeout period will be doubled for each retry.</p><ul><li>Default<ul><li><code>1</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_app_cache_size"></a><code>UNICOLLD_DECODER_ENRICH_APP_CACHE_SIZE</code><a class="hash-link" href="#unicolld_decoder_enrich_app_cache_size" title="Direct link to heading">#</a></h4><p>The ElastiFlow Unified Flow Collector will cache application attribues learned from option data. This setting specifies the maximum number of device specific application IDs which will be held in the cache.</p><ul><li>Default<ul><li><code>262144</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_asn_lookup"></a><code>UNICOLLD_DECODER_ENRICH_ASN_LOOKUP</code><a class="hash-link" href="#unicolld_decoder_enrich_asn_lookup" title="Direct link to heading">#</a></h4><p>The ElastiFlow Unified Flow Collector will attempt to determine attributes associated with the autonomous system to which a public IP address belongs. This setting determines whether this feature is enabled and the source of the attribute data.</p><ul><li>Valid Values<ul><li><code>none</code> - Disables enrichment with autonomous system attributes.</li><li><code>riskiq</code> - Use autonomous system attributes from RiskIQ&#x27;s ElastiFlow-specific enrichment API to enrich flow records.</li><li><code>maxmind</code> - Use autonomous system attributes from Maxmind&#x27;s <code>GeoLite2-ASN</code> or <code>GeoIP2-ISP</code> databases.</li></ul></li><li>Default<ul><li><code>none</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_asn_pref"></a><code>UNICOLLD_DECODER_ENRICH_ASN_PREF</code><a class="hash-link" href="#unicolld_decoder_enrich_asn_pref" title="Direct link to heading">#</a></h4><p>If enrichment with autonomous system attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_ASN_LOOKUP</code> is not <code>none</code>), but the autonomous system is already indicated directly in the flow record data, this setting specifies which source is prefered. If the preferred source is not available for a given record, the decoder will fall-back to the alternate option.</p><ul><li>Valid Values<ul><li><code>lookup</code> - prefer the autonomous system determined by lookup.</li><li><code>flow</code> - prefer the autonomous system indicated directly in the flow record data.</li></ul></li><li>Default<ul><li><code>lookup</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_asn_cache_size"></a><code>UNICOLLD_DECODER_ENRICH_ASN_CACHE_SIZE</code><a class="hash-link" href="#unicolld_decoder_enrich_asn_cache_size" title="Direct link to heading">#</a></h4><p>If enrichment with autonomous system attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_ASN_LOOKUP</code> is not <code>none</code>), attributes determined by lookup will be cached to improve performance. This setting specifies the maximum number of IP address for which attributes will be held in the cache.</p><ul><li>Default<ul><li><code>262144</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_asn_maxmind_asn_path"></a><code>UNICOLLD_DECODER_ENRICH_ASN_MAXMIND_ASN_PATH</code><a class="hash-link" href="#unicolld_decoder_enrich_asn_maxmind_asn_path" title="Direct link to heading">#</a></h4><p>If enrichment with autonomous system attributes is enabled using lookups in a Maxmind database (<code>UNICOLLD_DECODER_ENRICH_ASN_LOOKUP</code> is <code>maxmind</code>), this setting specifies the path to the Maxmind database.</p><ul><li>Default<ul><li><code>/etc/elastiflow/maxmind/GeoLite2-ASN.mmdb</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_asn_join"></a><code>UNICOLLD_DECODER_ENRICH_ASN_JOIN</code><a class="hash-link" href="#unicolld_decoder_enrich_asn_join" title="Direct link to heading">#</a></h4><p>Some features require that related values from separate fields are stored as an array in a single field. Such a &quot;join&quot; of autonomous system related fields is enabled when this setting is <code>true</code>.</p><blockquote><p>NOTE! If records are being output to Elasticsearch this setting should be set to <code>true</code>.</p></blockquote><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_geoip_lookup"></a><code>UNICOLLD_DECODER_ENRICH_GEOIP_LOOKUP</code><a class="hash-link" href="#unicolld_decoder_enrich_geoip_lookup" title="Direct link to heading">#</a></h4><p>The ElastiFlow Unified Flow Collector will attempt to determine GeoIP attributes associated with a public IP address. This setting determines whether this feature is enabled and the source of the attribute data.</p><ul><li>Valid Values<ul><li><code>none</code> - Disables enrichment with GeoIP attributes.</li><li><code>riskiq</code> - Use GeoIP attributes from RiskIQ&#x27;s ElastiFlow-specific enrichment API to enrich flow records.</li><li><code>maxmind</code> - Use GeoIP attributes from Maxmind&#x27;s <code>GeoLite2-City</code> or <code>GeoIP2-City</code> databases.</li></ul></li><li>Default<ul><li><code>none</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_geoip_cache_size"></a><code>UNICOLLD_DECODER_ENRICH_GEOIP_CACHE_SIZE</code><a class="hash-link" href="#unicolld_decoder_enrich_geoip_cache_size" title="Direct link to heading">#</a></h4><p>If enrichment with GeoIP attributes is enabled (<code>UNICOLLD_DECODER_ENRICH_GEOIP_LOOKUP</code> is not <code>none</code>), attributes determined by lookup will be cached to improve performance. This setting specifies the maximum number of IP address for which attributes will be held in the cache.</p><ul><li>Default<ul><li><code>262144</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_geoip_maxmind_city_path"></a><code>UNICOLLD_DECODER_ENRICH_GEOIP_MAXMIND_CITY_PATH</code><a class="hash-link" href="#unicolld_decoder_enrich_geoip_maxmind_city_path" title="Direct link to heading">#</a></h4><p>If enrichment with GeoIP attributes is enabled using lookups in a Maxmind database (<code>UNICOLLD_DECODER_ENRICH_GEOIP_LOOKUP</code> is <code>maxmind</code>), this setting specifies the path to the Maxmind database.</p><ul><li>Default<ul><li><code>/etc/elastiflow/maxmind/GeoLite2-City.mmdb</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_geoip_maxmind_values"></a><code>UNICOLLD_DECODER_ENRICH_GEOIP_MAXMIND_VALUES</code><a class="hash-link" href="#unicolld_decoder_enrich_geoip_maxmind_values" title="Direct link to heading">#</a></h4><p>If enrichment with GeoIP attributes is enabled using lookups in a Maxmind database (<code>UNICOLLD_DECODER_ENRICH_GEOIP_LOOKUP</code> is <code>maxmind</code>), this setting specifies the GeoIP attributes from the Maxmind database to be included in the resulting record.</p><ul><li>Valid Values<ul><li><code>city</code>, <code>continent</code>, <code>continent_code</code>, <code>country</code>, <code>country_code</code>, <code>location</code>, <code>timezone</code></li></ul></li><li>Default<ul><li><code>city,country,country_code,location,timezone</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_geoip_maxmind_lang"></a><code>UNICOLLD_DECODER_ENRICH_GEOIP_MAXMIND_LANG</code><a class="hash-link" href="#unicolld_decoder_enrich_geoip_maxmind_lang" title="Direct link to heading">#</a></h4><p>If enrichment with GeoIP attributes is enabled using lookups in a Maxmind database (<code>UNICOLLD_DECODER_ENRICH_GEOIP_LOOKUP</code> is <code>maxmind</code>), this setting specifies the language which should be used for any language-specifc values.</p><ul><li>Valid Values<ul><li><code>de</code> - German</li><li><code>en</code> - English</li><li><code>es</code> - Spanish</li><li><code>fr</code> - French</li><li><code>ja</code> - Japanese</li><li><code>pt-BR</code> - Brazilian Portuguese</li><li><code>ru</code> - Russian</li><li><code>zh-CN</code> - Simplified Chinese</li></ul></li><li>Default<ul><li><code>en</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_geoip_join"></a><code>UNICOLLD_DECODER_ENRICH_GEOIP_JOIN</code><a class="hash-link" href="#unicolld_decoder_enrich_geoip_join" title="Direct link to heading">#</a></h4><p>Some features require that related values from separate fields are stored as an array in a single field. Such a &quot;join&quot; of GeoIP related fields is enabled when this setting is <code>true</code>.</p><blockquote><p>NOTE! If records are being output to Elasticsearch this setting should be set to <code>true</code>.</p></blockquote><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_communityid_enable"></a><code>UNICOLLD_DECODER_ENRICH_COMMUNITYID_ENABLE</code><a class="hash-link" href="#unicolld_decoder_enrich_communityid_enable" title="Direct link to heading">#</a></h4><p>Specifies whether flow records should be enriched with a Community ID value.</p><blockquote><p>For more information on community IDs see <a href="https://github.com/corelight/community-id-spec" target="_blank" rel="noopener noreferrer">https://github.com/corelight/community-id-spec</a>.</p></blockquote><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_communityid_seed"></a><code>UNICOLLD_DECODER_ENRICH_COMMUNITYID_SEED</code><a class="hash-link" href="#unicolld_decoder_enrich_communityid_seed" title="Direct link to heading">#</a></h4><p>A 16-bit value used as the seed for determining the Community ID of a flow record.</p><ul><li>Default<ul><li><code>0</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_conversationid_enable"></a><code>UNICOLLD_DECODER_ENRICH_CONVERSATIONID_ENABLE</code><a class="hash-link" href="#unicolld_decoder_enrich_conversationid_enable" title="Direct link to heading">#</a></h4><p>Specifies whether flow records should be enriched with a Conversation ID value. This value is similar to a community ID (see... UNICOLLD_DECODER_ENRICH_COMMUNITYID_ENABLE). However rather than being based on the src/dst relationship of two endpoints, it is based on the client/server perspective. While two related unidirectional flows, e.g. an HTTP request and the corresponding HTTP response, will have different community IDs. Both of these flows will have the same conversation ID. This provides greater flexibility when exploring a complex flow dataset.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_conversationid_seed"></a><code>UNICOLLD_DECODER_ENRICH_CONVERSATIONID_SEED</code><a class="hash-link" href="#unicolld_decoder_enrich_conversationid_seed" title="Direct link to heading">#</a></h4><p>A 16-bit value used as the seed for determining the Conversation ID of a flow record.</p><ul><li>Default<ul><li><code>0</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_expand_clisrv"></a><code>UNICOLLD_DECODER_ENRICH_EXPAND_CLISRV</code><a class="hash-link" href="#unicolld_decoder_enrich_expand_clisrv" title="Direct link to heading">#</a></h4><p>The collector will infer the client/server relationship of two source/destination endpoints. The is setting determines whether such inferrence is enabled or not.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_enrich_netattr_join"></a><code>UNICOLLD_DECODER_ENRICH_NETATTR_JOIN</code><a class="hash-link" href="#unicolld_decoder_enrich_netattr_join" title="Direct link to heading">#</a></h4><p>Some features require that related values from separate fields are stored as an array in a single field. Such a &quot;join&quot; of network attribute related fields is enabled when this setting is <code>true</code>.</p><blockquote><p>NOTE! If records are being output to Elasticsearch this setting should be set to <code>true</code>.</p></blockquote><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_duration_precision"></a><code>UNICOLLD_DECODER_DURATION_PRECISION</code><a class="hash-link" href="#unicolld_decoder_duration_precision" title="Direct link to heading">#</a></h4><p>The desired precision of duration-related values. Values received at a different precision than specified will be converted to the desired precision.</p><ul><li>Valid Values<ul><li><code>sec</code> - seconds</li><li><code>ds</code> - deciseconds</li><li><code>cs</code> - centiseconds</li><li><code>ms</code> - millseconds</li><li><code>us</code> - microseconds</li><li><code>ns</code> - nanoseconds</li></ul></li><li>Default<ul><li><code>ms</code></li></ul></li></ul><blockquote><p>For most data sources this should millseconds (<code>ms</code>)</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_timestamp_precision"></a><code>UNICOLLD_DECODER_TIMESTAMP_PRECISION</code><a class="hash-link" href="#unicolld_decoder_timestamp_precision" title="Direct link to heading">#</a></h4><p>The desired precision of timestamp values. Values received at a different precision than specified will be converted to the desired precision.</p><ul><li>Valid Values<ul><li><code>sec</code> - seconds</li><li><code>ds</code> - deciseconds</li><li><code>cs</code> - centiseconds</li><li><code>ms</code> - millseconds</li><li><code>us</code> - microseconds</li><li><code>ns</code> - nanoseconds</li></ul></li><li>Default<ul><li><code>ms</code></li></ul></li></ul><blockquote><p>For most data stores, e.g. Elasticsearch, this should millseconds (<code>ms</code>)</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_decoder_percent_norm"></a><code>UNICOLLD_DECODER_PERCENT_NORM</code><a class="hash-link" href="#unicolld_decoder_percent_norm" title="Direct link to heading">#</a></h4><p>The desired representation of percentages. Values received with a different representation than specified will be converted to the desired representation.</p><ul><li>Valid Values<ul><li><code>1</code> - values will be based on a scale of 0-1.</li><li><code>100</code> - values will be based on a scale of 0-100.</li></ul></li><li>Default<ul><li><code>100</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_record_stream_max_size"></a><code>UNICOLLD_RECORD_STREAM_MAX_SIZE</code><a class="hash-link" href="#unicolld_record_stream_max_size" title="Direct link to heading">#</a></h4><p>Processed records are queued prior to being processed by an available output instance. This value specifies the size of the queue as a quantity of records. As a single PDU typically contains multiple flow records, this value will typically be a multiple of <code>UNICOLLD_SERVER_UDP_PACKET_STREAM_MAX_SIZE</code>.</p><ul><li>Default<ul><li><code>12 * UNICOLLD_SERVER_UDP_PACKET_STREAM_MAX_SIZE</code></li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="stdout-output"></a>stdout Output<a class="hash-link" href="#stdout-output" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_stdout_enable"></a><code>UNICOLLD_OUTPUT_STDOUT_ENABLE</code><a class="hash-link" href="#unicolld_output_stdout_enable" title="Direct link to heading">#</a></h4><p>Specifies whether the <code>stdout</code> output is enabled.</p><blockquote><p>NOTE! At anything more than a few flow records per second the data will scroll too fast to be useful. For this reason the <code>stdout</code> output should be used primarily for manual testing.</p></blockquote><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_stdout_format"></a><code>UNICOLLD_OUTPUT_STDOUT_FORMAT</code><a class="hash-link" href="#unicolld_output_stdout_format" title="Direct link to heading">#</a></h4><ul><li>Valid Values<ul><li><code>json</code> - Output as a single JSON-formatted record per line.</li><li><code>json_pretty</code> - Output each record as a &quot;pretty&quot; formatted JSON document.</li></ul></li><li>Default<ul><li><code>json_pretty</code></li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="elasticsearch-output"></a>Elasticsearch Output<a class="hash-link" href="#elasticsearch-output" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_enable"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_ENABLE</code><a class="hash-link" href="#unicolld_output_elasticsearch_enable" title="Direct link to heading">#</a></h4><p>Specifies whether the Elasticsearch output is enabled.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_ecs_enable"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_ECS_ENABLE</code><a class="hash-link" href="#unicolld_output_elasticsearch_ecs_enable" title="Direct link to heading">#</a></h4><p>Specifies whether the data will be sent using Elastic Common Schema (ECS).</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_batch_deadline"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_BATCH_DEADLINE</code><a class="hash-link" href="#unicolld_output_elasticsearch_batch_deadline" title="Direct link to heading">#</a></h4><p>The maximum time, in milliseconds, to wait for a batch of records to fill before being sent to the Elasticsearch bulk API.</p><ul><li>Default<ul><li><code>1000</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_batch_max_bytes"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_BATCH_MAX_BYTES</code><a class="hash-link" href="#unicolld_output_elasticsearch_batch_max_bytes" title="Direct link to heading">#</a></h4><p>The maximum size, in bytes, for a batch of records being sent to the Elasticsearch bulk API.</p><ul><li>Default<ul><li><code>8388608</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_pool_size"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_POOL_SIZE</code><a class="hash-link" href="#unicolld_output_elasticsearch_pool_size" title="Direct link to heading">#</a></h4><p>The number of Elasticsearch output workers.</p><ul><li>Default<ul><li><code>1 * UNICOLLD_LICENSED_CORES</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_timestamp_source"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_TIMESTAMP_SOURCE</code><a class="hash-link" href="#unicolld_output_elasticsearch_timestamp_source" title="Direct link to heading">#</a></h4><p>Determines the timestamp source to be used to set the <code>@timestamp</code> field. Usually <code>end</code> would be the best setting. However, in the case of poorly behaving or misconfigured devices, <code>collect</code> may be the better option.</p><ul><li>Valid Values<ul><li><code>start</code> - Use the timestamp from <code>flow.start.timestamp</code>. The flow start time indicated in the flow.</li><li><code>end</code> - Use the timestamp from <code>flow.end.timestamp</code>. The flow end time (or last reported time).</li><li><code>export</code> - Use the timestamp from <code>flow.export.timestamp</code>. The time from the flow record header.</li><li><code>collect</code> - Use the timestamp from <code>flow.collect.timestamp</code>. The time that the collector processed the flow record.</li></ul></li><li>Default<ul><li><code>end</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_index_period"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_PERIOD</code><a class="hash-link" href="#unicolld_output_elasticsearch_index_period" title="Direct link to heading">#</a></h4><ul><li>Valid Values<ul><li><code>daily</code> - New indices will be created each day. The format of the time period suffix will be <code>-yyyy.MM.dd</code>.</li><li><code>weekly</code> - New indices will be created each week. The format of the time period suffix will be <code>-yyyy.&#x27;w&#x27;ww</code>.</li><li><code>monthly</code> - New indices will be created each month. The format of the time period suffix will be <code>-yyyy.MM</code>.</li><li><code>ilm</code> - Index Lifecycle Management will be used to handle the creation and deletion of indices.</li></ul></li><li>Default<ul><li><code>daily</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_index_suffix"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_SUFFIX</code><a class="hash-link" href="#unicolld_output_elasticsearch_index_suffix" title="Direct link to heading">#</a></h4><p>It can sometimes be useful to have separate indices for different environments, locations or other organizational unit. This settings allow you to specify a suffix that will be added to the index for such purposes.</p><ul><li>Default<ul><li><code>&#x27;&#x27;</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_index_template_enable"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_ENABLE</code><a class="hash-link" href="#unicolld_output_elasticsearch_index_template_enable" title="Direct link to heading">#</a></h4><p>Specifies whether the output should attempt to add the required index template to Elasticsearch.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_index_template_overwrite"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_OVERWRITE</code><a class="hash-link" href="#unicolld_output_elasticsearch_index_template_overwrite" title="Direct link to heading">#</a></h4><p>If the output is configured to add the index template to Elasticsearch (<code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_ENABLE</code> is <code>true</code>), this setting determines whether the index template should be overwritten if it already exists.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_index_template_shards"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_SHARDS</code><a class="hash-link" href="#unicolld_output_elasticsearch_index_template_shards" title="Direct link to heading">#</a></h4><p>The number of shards with which the index should be created. As a general rule, additional shards increases ingest performance, assuming there are sufficient data nodes across which the shards can be distributed.</p><ul><li>Recommended<ul><li><code>2</code> times the number of Elasticsearch data nodes to which data will be indexed.</li></ul></li><li>Default<ul><li><code>3</code></li></ul></li></ul><blockquote><p>NOTE: This setting configures the index template sent to Elasticsearch. It does NOT change any existing indices.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_index_template_replicas"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_REPLICAS</code><a class="hash-link" href="#unicolld_output_elasticsearch_index_template_replicas" title="Direct link to heading">#</a></h4><p>The number of replicas that should be created for each shard. If using a multi-node cluster and data redundancy is desired, this value must be at least <code>1</code>.</p><p>In general, additional replicas will increase query performance, assuming there are sufficient data nodes across which the replicas can be distributed.</p><ul><li>Recommended<ul><li><code>1</code> times the number of Elasticsearch data nodes to which data will be indexed.</li></ul></li><li>Default<ul><li><code>1</code></li></ul></li></ul><blockquote><p>NOTE: This setting configures the index template sent to Elasticsearch. It does NOT change any existing indices.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_index_template_refresh_interval"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_REFRESH_INTERVAL</code><a class="hash-link" href="#unicolld_output_elasticsearch_index_template_refresh_interval" title="Direct link to heading">#</a></h4><p>Specifies the period for the refresh interval. The refresh interval is the time window in which newly ingested documents are added to a segment, prior to the segment being added to the index. Only after the refresh interval has ended and the segment has been added to the index do the documents become searchable.</p><ul><li>Recommended<ul><li><code>5s</code> - If the data needs to become available for queries more quickly. However shorter refresh intervals will negatively impact ingest performance.</li><li><code>30s</code> - (or longer) If maximizing ingest performance is the highest priority. Longer refresh intervals negatively impact the real-time accessibility of new records.</li><li><code>10s</code> or <code>15s</code> - This is a reasonable compromise between ingest performance and data accessibility for most network traffic analytics use-cases.</li></ul></li><li>Default<ul><li><code>10s</code></li></ul></li></ul><blockquote><p>NOTE: This setting configures the index template sent to Elasticsearch. It does NOT change any existing indices.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_index_template_codec"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_INDEX_TEMPLATE_CODEC</code><a class="hash-link" href="#unicolld_output_elasticsearch_index_template_codec" title="Direct link to heading">#</a></h4><p>The setting determines the level of compression used for stored values.</p><ul><li>Valid Values<ul><li><code>default</code> - Stored values are compressed using LZ4.</li><li><code>best_compression</code> - Stored values are compressed using DEFLATE. This reduces disk capacity requirements with the trade-off of slightly higher CPU utilization.</li></ul></li><li>Default<ul><li><code>best_compression</code></li></ul></li></ul><blockquote><p>NOTE: This setting configures the index template sent to Elasticsearch. It does NOT change any existing indices.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_addresses"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_ADDRESSES</code><a class="hash-link" href="#unicolld_output_elasticsearch_addresses" title="Direct link to heading">#</a></h4><p>This setting specifies the Elasticsearch servers to which the output should connect. It is a comma-separated list of Elasticsearch nodes, including port number.</p><blockquote><p>WARNING! Do <strong>NOT</strong> include <code>http://</code> or <code>https://</code> in the provided value. TLS communications is enabled/disabled using <code>UNICOLLD_OUTPUT_ELASTICSEARCH_TLS_ENABLE</code>.</p></blockquote><ul><li>Default<ul><li><code>127.0.0.1:9200</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_username"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_USERNAME</code><a class="hash-link" href="#unicolld_output_elasticsearch_username" title="Direct link to heading">#</a></h4><p>The username to use when connecting to Elasticsearch.</p><ul><li>Default<ul><li><code>elastic</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_password"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_PASSWORD</code><a class="hash-link" href="#unicolld_output_elasticsearch_password" title="Direct link to heading">#</a></h4><p>The password to use when connecting to Elasticsearch.</p><ul><li>Default<ul><li><code>changeme</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_cloud_id"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_CLOUD_ID</code><a class="hash-link" href="#unicolld_output_elasticsearch_cloud_id" title="Direct link to heading">#</a></h4><p>The URI for the Elastic Cloud endpoint to which the output should connect. If set, this value overrides <code>UNICOLLD_OUTPUT_ELASTICSEARCH_ADDRESSES</code>.</p><ul><li>Default<ul><li><code>&#x27;&#x27;</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_api_key"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_API_KEY</code><a class="hash-link" href="#unicolld_output_elasticsearch_api_key" title="Direct link to heading">#</a></h4><p>The base64-encoded token to use for authorization. If set, this value overrides <code>UNICOLLD_OUTPUT_ELASTICSEARCH_USERNAME</code> and <code>UNICOLLD_OUTPUT_ELASTICSEARCH_PASSWORD</code>.</p><ul><li>Default<ul><li><code>&#x27;&#x27;</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_tls_enable"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_TLS_ENABLE</code><a class="hash-link" href="#unicolld_output_elasticsearch_tls_enable" title="Direct link to heading">#</a></h4><p>This setting is used to enable/disable TLS connections to Elasticsearch.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_tls_skip_verification"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_TLS_SKIP_VERIFICATION</code><a class="hash-link" href="#unicolld_output_elasticsearch_tls_skip_verification" title="Direct link to heading">#</a></h4><p>This setting is used to enable/disable TLS verification of the Elasticsearch server to which the output is attempting to connect.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_tls_ca_cert_filepath"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_TLS_CA_CERT_FILEPATH</code><a class="hash-link" href="#unicolld_output_elasticsearch_tls_ca_cert_filepath" title="Direct link to heading">#</a></h4><p>The path to the Certificate Authority (CA) certificate to use for verification of the Elasticsearch server to which the output is attempting to connect.</p><ul><li>Default<ul><li><code>&#x27;&#x27;</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_retry_enable"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_RETRY_ENABLE</code><a class="hash-link" href="#unicolld_output_elasticsearch_retry_enable" title="Direct link to heading">#</a></h4><p>Specifies whether to retry connecting to Elasticsearch after a connection has failed.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_retry_on_timeout_enable"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_RETRY_ON_TIMEOUT_ENABLE</code><a class="hash-link" href="#unicolld_output_elasticsearch_retry_on_timeout_enable" title="Direct link to heading">#</a></h4><p>Specifies whether to retry bulk indexing requests which have timed-out.</p><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>false</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_max_retries"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_MAX_RETRIES</code><a class="hash-link" href="#unicolld_output_elasticsearch_max_retries" title="Direct link to heading">#</a></h4><p>Specifies the number of times to retry bulk indexing requests which have timed-out.</p><ul><li>Default<ul><li><code>3</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_elasticsearch_retry_backoff"></a><code>UNICOLLD_OUTPUT_ELASTICSEARCH_RETRY_BACKOFF</code><a class="hash-link" href="#unicolld_output_elasticsearch_retry_backoff" title="Direct link to heading">#</a></h4><p>If set, this value specifies the quantity of milliseconds that the output should &quot;backoff&quot; prior to retrying a failed bulk request.</p><ul><li>Default<ul><li><code>1000</code></li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="riskiq-output"></a>RiskIQ Output<a class="hash-link" href="#riskiq-output" title="Direct link to heading">#</a></h3><blockquote><p>Flow records can be sent to RiskIQ for additional analysis. MORE details coming in <code>v5.0.0-beta.3</code>. For now these setting can be ignored.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_riskiq_enable"></a><code>UNICOLLD_OUTPUT_RISKIQ_ENABLE</code><a class="hash-link" href="#unicolld_output_riskiq_enable" title="Direct link to heading">#</a></h4><ul><li>Valid Values<ul><li><code>true</code>, <code>false</code></li></ul></li><li>Default<ul><li><code>true</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_riskiq_host"></a><code>UNICOLLD_OUTPUT_RISKIQ_HOST</code><a class="hash-link" href="#unicolld_output_riskiq_host" title="Direct link to heading">#</a></h4><blockquote><p>WARNING! Do NOT change this value unless directed by ElastiFlow support.</p></blockquote><ul><li>Default<ul><li><code>flow.riskiq.net</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_riskiq_port"></a><code>UNICOLLD_OUTPUT_RISKIQ_PORT</code><a class="hash-link" href="#unicolld_output_riskiq_port" title="Direct link to heading">#</a></h4><blockquote><p>WARNING! Do NOT change this value unless directed by ElastiFlow support.</p></blockquote><ul><li>Default<ul><li><code>20000</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_riskiq_customer_uuid"></a><code>UNICOLLD_OUTPUT_RISKIQ_CUSTOMER_UUID</code><a class="hash-link" href="#unicolld_output_riskiq_customer_uuid" title="Direct link to heading">#</a></h4><ul><li>Default<ul><li><code>&#x27;&#x27;</code></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="unicolld_output_riskiq_customer_encryption_key"></a><code>UNICOLLD_OUTPUT_RISKIQ_CUSTOMER_ENCRYPTION_KEY</code><a class="hash-link" href="#unicolld_output_riskiq_customer_encryption_key" title="Direct link to heading">#</a></h4><ul><li>Default<ul><li><code>&#x27;&#x27;</code></li></ul></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/elastiflow/documentation/tree/main/docs/docs/install.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/changelog"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Changelog Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation-using-docker-and-docker-compose" class="table-of-contents__link">Installation Using Docker and docker-compose</a><ul><li><a href="#docker-composeyml" class="table-of-contents__link">docker-compose.yml</a></li></ul></li><li><a href="#maxmind-databases" class="table-of-contents__link">Maxmind Databases</a></li><li><a href="#configuration-environment-variable-reference" class="table-of-contents__link">Configuration Environment Variable Reference</a><ul><li><a href="#general-settings" class="table-of-contents__link">General Settings</a></li><li><a href="#logging-settings" class="table-of-contents__link">Logging Settings</a></li><li><a href="#udp-server-settings" class="table-of-contents__link">UDP Server Settings</a></li><li><a href="#flow-decoder-settings" class="table-of-contents__link">Flow Decoder Settings</a></li><li><a href="#stdout-output" class="table-of-contents__link">stdout Output</a></li><li><a href="#elasticsearch-output" class="table-of-contents__link">Elasticsearch Output</a></li><li><a href="#riskiq-output" class="table-of-contents__link">RiskIQ Output</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/install/">Install</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.elastiflow.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ElastiFlow</a></li><li class="footer__item"><a href="https://elastiflowcommunity.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/elastiflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/elastiflow%E2%84%A2/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:support@elastiflow.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 ElastiFlow.</div></div></div></footer></div>
<script src="/styles.5bdcdeb3.js"></script>
<script src="/runtime~main.8f20137d.js"></script>
<script src="/main.17b78906.js"></script>
<script src="/common.3da9ff2c.js"></script>
<script src="/11.7b134bb7.js"></script>
<script src="/14.7478ef0c.js"></script>
<script src="/935f2afb.67374589.js"></script>
<script src="/17896441.60954482.js"></script>
<script src="/c4de80f8.01721acb.js"></script>
</body>
</html>